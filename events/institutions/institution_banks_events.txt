namespace = hex_institution_banks_events

country_event = {
	id = hex_institution_banks_events.1
	title = hex_institution_banks_events.1.t
	desc = hex_institution_banks_events.1.d
	
	picture = HEX_EVENT_PICTURE_FIRST_AWAKE

	fire_only_once = yes
	is_triggered_only = yes

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		FROM = {
			save_event_target_as = institution_origin
		}
	}

	goto = institution_origin

	option = {
		name = hex_institution_banks_events.1.a
		custom_tooltip = hex_institution_banks_events.1.a.tt

		highlight = yes

		hidden_effect = {
			country_event = { id = hex_institution_banks_events.2 }
		}
	}

	option = {
		name = hex_institution_banks_events.1.b
		custom_tooltip = hex_institution_banks_events.1.b.tt
	}

	after = {
		hidden_effect = {
			add_faction = hex_city_bank
			add_faction_influence = { faction = hex_city_bank influence = 1 }

			add_treasury = 100

			FROM = {
				add_permanent_province_modifier = {
					name = hex_birthplace_of_banks_institution
					duration = -1
				}
			}
		}
	}
}

country_event = {
	id = hex_institution_banks_events.2
	title = hex_institution_banks_events.2.t
	desc = hex_institution_banks_events.2.d
	
	picture = HEX_EVENT_PICTURE_GOLD_AWAKE

	fire_only_once = yes
	is_triggered_only = yes

	goto = institution_origin

	option = {
		name = hex_institution_banks_events.2.a
	}

	option = {
		name = hex_institution_banks_events.2.b
		custom_tooltip = HEX_JOIN_CITY_BANK_TT

		highlight = yes

		hidden_effect = {
			hex_set_heir = { gold = yes }
			add_faction_influence = { faction = hex_city_bank influence = 5 }
			add_country_modifier = { name = hex_switched_loyalty duration = 365 }
		}
	}
}